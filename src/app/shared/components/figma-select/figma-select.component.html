<div class="custom-select-container" [class.open]="isOpen()">
    <div class="select-trigger" (click)="toggle()">
        <div class="trigger-left">
            <span class="selected-text">{{ title() }}</span>
            @if (value() && value() !== defaultValue()) {
            <span class="selection-badge">1</span>
            }
        </div>
        <svg class="chevron" width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1 1L5 5L9 1" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round" />
        </svg>
    </div>

    @if (isOpen()) {
    <div class="options-dropdown" [class.align-right]="alignRight()">
        @for (option of options(); track option.value) {
        <div class="option-item" [class.active]="option.value === value()" (click)="selectOption(option)">
            {{ option.label }}
        </div>
        }
    </div>
    }
</div>